开源源代码获取方式：http://apache.org/

编译源码的项目工具：

+ C、C++ 的源码编译：使用make项目管理器

  configure脚本 --> Makefile.in -- > Makefile

  相关开发工具：

  autoconf:生成configure脚本

  automake:生成Makefile.in

+ Java的源码编译，使用maven

## C语言源代码编译安装过程

利用编译工具，通常只需要三个大步骤

+ ./configure

  (1)通过选项传递参数，指定安装路径，启用特性等；执行时会参考用户的指定以及Makefile.in文件生成Makefile

  (2)检查依赖到的外部环境，如依赖的软件包

+ make 根据Makefile文件，构建应用程序
+ make install 复制文件到相应路径

注意：安装前可以通过查看README，INSTALL获取帮助

#### 编译安装准备

准备：安装相关的依赖包

+ 开发工具：make，gcc(c/c++编译器GNU C Complier)
+ 开发环境：开发库（glibc：标准库），头文件，可安装开发包组Development Tools
+ 特定软件相关依赖包

生产实践：基于最小化安装的系统建议安装下面相关包

```
yum install gcc make gcc-c++ glibc glibc-devel pcre pcre-devel openssl openssl-devel systemd-devel zlib-devel vim lrzsz tree tmux lsof tcpdump wget net-tools iotop bc bzip2 zip unzip nfs-utils man-pages
```

#### 编译安装

第一步：运行 configure脚本，生成Makefile文件

其选项主要功能：

+ 可以指定安装位置
+ 指定启用的特性

获取其支持使用的选项

```
./configure --help
```

选项分类：

+ 安装路径设定：

  + --prefix=/PATH:指定默认安装位置，默认为/usr/local/

  + --sysconfdir=/PATH:配置文件安装位置

    System types：支持交叉编译

+ 软件特性和相关指定：

  Optional Features：可选特性

  ​	--disable-FEATURE

  ​	--enable-FEATURE[=ARG]

  Optional Packages:可选包

  ​	--with-PACKAGE[=ARG] 依赖包

  ​	--widthout-PACKAGE 禁用依赖关系

  注意：通常编译操作以来的程序包，需要安装此程序报的开发“组件”，其包名一般类似于name-devel-VERSION

第二步：make

第三步：make install

#### 安装后的配置

​	1.二进制程序目录导入至PATH环境变量中

​		编辑文件/etc/profile.d/NAME.sh

```
export PATH=/PATH/TO/BIN:$PATH
```

​	2.相关用户及文件

​		有些开源软件编译完成后，还需要创建相关的用户及文件

​	3.导入帮助手册

​		编辑/etc/man.config|man_db.conf文件，添加一个MANPATH

​	范例：编译安装tree1.8

```bash
#1 安装相关的依赖包
yum install gcc make

#2 下载源码并解压
tar -zxvf tree-1.8.0.tgz

#3 进入解压缩的目录，查看README和INSTALL
cd tree-1.8.0
cat README
cat INSTALL

#4 修改源码的版本号
sed -i 's#v1\.8\.0#v.18.0#' tree.c

#5 编译准备
vim Makefile
prefix=/apps/tree

#6 编译
make

#7 安装
make install

#8 修改PATH变量
echo 'PATH=/apps/tree/bin:$PATH' > /etc/profile.d/tree.sh
. /etc/profile.d/tree.sh

#9 验证
tree --version
```



