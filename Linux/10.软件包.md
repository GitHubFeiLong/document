## 软件运行环境

### 软件运行和编译

+ ABI：Application Binary Interface 

  + Windows与Linux不兼容

    ​	1.ELF（Executable and Linkable Format）

    ​	2.PE（Portable Executable）

  + 库级别的虚拟化：

  ​		  1.Linux：WINE

  ​		  2.Windows:Cygwin

+ API:Application Programming Interface

  ​	POSIX：Portable OS

+ 程序源代码--> 预处理-->编译-->汇编-->链接

  ​	静态编译：.a

  ​	动态编译：.so

### 静态和动态链接

+ 链接主要作用是把各个模块之间相互引用的部分处理好，使得各个模块之间能够正确的衔接，分为静态链接和动态链接
+ 静态链接
  + 把程序对应的依赖库复制一份到bao
  + libxxx.a
  + 嵌入程序包
  + 升级难，需要重新编译
  + 占用较多的空间，迁移容易
+ 动态链接
  + 只把依赖加做一个动态链接
  + libxxx.so
  + 连接指向
  + 占用较少空间，升级方便

![1579519148209](C:\Users\msi\AppData\Roaming\Typora\typora-user-images\1579519148209.png)

## 软件包基础

### 包和包管理器

+ 最初只有.tar.gz的打包的源码文件，用户必须编译每个他想在GNU/Linux上运行的软件。用户们急需系统提供一种方法来管理这些安装在机器上的软件，当Debian诞生时，这样一个管理工具也就应运而生，它被命名为dpkg。从而著名的“package”概念第一次出现在GNU/Linux系统中，稍后Red Hat才开发自己的“rpm”包管理器系统
+ 包的组成：
  + 二进制文件、库文件、配置文件、帮助文件
+ 程序包管理器：
  + debian：deb文件，dpkg包管理器
  + redhat：rpm文件，rpm包管理器
    + rpm：Redhat Package Manager

### 包命名

+ 源代码：name-VERSION.tar.gz|bz2|xz
  + VERSION:major.minor.release
+ rpm包命名方式：
  + name-VERSION-release.arch.rpm
  + 例：bash-4.2.46-19.el7.x.86_64.rpm
  + VERSION:major.minor.release
  + release:release.OS
  + 常见的arch：
    + x86:i386,i486,i586,i686
    + x86_64:x64,x86_64,amd64
  + powerpc:ppc
  + 跟平台无关:noarch

rpm包管理

yum管理

定制yum仓库

dnf管理

编译安装

Ubuntu软件管理