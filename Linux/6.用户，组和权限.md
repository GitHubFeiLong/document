id : 查看当前账号的

vipw、vigr(vi /etc/gshadow)

pwconv:将passwd的口令还原成x（/etc/passwd文件中x表示口令不放在passwd文件中，放在了/etc/shadow文件中）

su - wang : 切换wang账号

openssl rand -base64 9:生成9位随机字符

mkpasswd:生成密码（需要安装）

chage wang:修改wang账号的

finger wang:查看wang账号的信息

getent passwd wang: 查看/etc/passwd中wang账户的信息

getent group wang:查看/etc/group中wang组的信息

pwck : 检查/etc/passwd的格式是否正确

grpck: /检查/etc/group的格式是否正确

/var/spool/mail:邮箱地址

/etc/skel:创建用户生成家目录的模板

/etc/login.defs: 用户设置口令配置文件

## 用户，组和权限

### 介绍安全3A

+ 资源分派
  + Authentication：认证
  + Authorization：授权
  + Accouting|Audition：审计

用户user

+ 令牌token，identity

+ Linux用户：username/UID

+ 管理员：root, 0

+ 普通用户：1-60000 自动分配

  + 系统用户 1-499，1-999（CentOS7）
    + 对守护进程获取资源进行权限分配

  + 登录用户：500+，1000+（CentOS7）
    + 交互式登录

组group

+ Linux组：Groupname/GID
+ 管理员组：root，0
+ 普通组：
  + 系统组：1-499，1-999（CentOS7）
  + 普通组：500+, 1000+(CentOS7)

安全上下文

+ Linux安全上下文

  + 运行中的程序：进程（process）
  + 以进程发起者的身份运行：
    + root:/bin/cat
    + mage:/bin/cat

  + 进程所能够访问资源的权限取决于进程的运行者的身份

组的类别：

+ Linux组的类别
  + 用户的主要组（primary group）
  + 用户必须属于一个且只有一个主组
  + 组名同用户名，且仅包含一个用户，私有组
  + 用户的附加组（supplementary group）
  + 一个用户可以属于零个或多个辅助组

### 解释Linux的安全模型

### 解释用户账号和组群账号的目的

### 用户和组相关文件

+ Linux用户和组的主要配置文件：
  + /etc/passwd:用户及其属性信息（名称、uid、主组id等）
  + /etc/group:组及其属性信息
  + /etc/shadow:用户密码及相关属性
  + /etc/gshadow:组密码及其相关属性

### 用户和组管理命令

+ 用户管理命令
  + useradd
    + useradd [options] LOGIN
    + -u UID
    + -o 配合-u选项，不检查UID的唯一性
    + -g GID 指明用户所属基本组，可为组名，也可以GID
    + -c "COMMENT" 用户的注释信息
    + -d HOME_DIR 以指定的路径（不存在）为家目录
    + -s SHELL 指明用户的默认shell程序，可用列表在/etc/shells文件中
    + -G GROUP[,GROUP2,...] 为用户指明附加组，组须事先存在
    + -N 不创建私用组做主组，使用users组做主组
    + -r 创建系统用户CentOS 6 ： ID<500,CentOS 7 : ID < 1000
    + -m 创建家目录，用于系统用户
    + -M 不创建家目录，用于非系统用户
  + usermod
    + -u UID:新UID
    + -g GID：新主组
    + -G GROUP1[,GROUP2,..]:新附加组，原来的附加组将会被覆盖；若保留原有，则要同时使用-a选项
    + -s SHELL：新的默认SHELL
    + -c 'COMMENT' :新的注释信息
    + -d HOME：新家目录不会自动创建；若要创建新家目录并移动原家数据，同时使用-m选项
    + -l login_name：新的名字
    + -L Lock指定用户，在/etc/shadow 密码栏的增加！
    + -U：unlock指定用户，将/etc/shadow 密码栏的！去掉
    + -e YYYY-MM-DD:知名用户账号过期日期
    + -f INACTIVE：设定非活动期限
  + userdel

+ 组账号维护命令
  + groupadd
  + groupmod
  + groupdel

+ 新建用户的相关文件和命令
  + /etc/default/useradd：创建用户的默认值
  + /etc/skel/* ：:创建用户生成家目录的模板
  + /etc/login.defs
  + newusers passwd格式文件 批量创建用户
  + chpasswd 批量修改用户口令

### 理解并设置文件权限

### 默认权限

### 特殊权限

### FACL

### 密码加密

+ 加密机制：
  + 加密：明文 -- > 密文
  + 解密：密文--> 明文

+ 单向加密：哈希算法，原文不同，密文必不同
  + 相同算法定长输出，获得密文不可逆推出原始数据
  + 雪崩效应：初始条件的微小改变，引起结果的巨大改变
  + md5:message digest,128bits
  + sha1:secure hash algorithm, 160bits
  + sha224:224bits
  + sha256:256bits
  + sha384:384bits
  + sha512:512bits

+ 更改加密算法：
  + authconfig --passalgo=sha256 --update