# 1.SHELL脚本编程进阶

## 1.1循环

### 1.1.1 循环执行介绍

![1586326759812](..\typora-user-images\1586326759812.png)

将某代码段重复运行多次，通常有进入循环的条件和退出循环的条件

重复运行的次数

+ 循环次数事先已知
+ 循环次数事先未知

常见的循环的命令：for，while，until

### 1.1.2 for循环

格式1：

```bash
for 变量名 in 列表;do
	循环体;
done
```

例：输出1~100

```bash
for i in {1..100};do
	echo ${i};
done	
```



执行机制：依次将列表中的元素赋值给“变量名”；每次赋值后执行一次循环体；直到列表中的元素耗尽，循环结束。

for循环列表生成方式：

+ 直接给出列表
+ 整数列表

#### 1.1.2.1两个范例

1.创建YYYY-MM-DD文件夹，在YYYY-MM-DD下随机创建日志文件

```bash
#!/bin/bash
for i in {1..365};
do
	DIR=`date -d "-$i days" +%F`
	mkdir /data/test/$DIR;
	for j in {1..10};
	do 
		touch /data/test/$DIR/$RANDOM.log
	done
done
```

2.将YYYY-MM-DD文件下得文件移动到YYYY-MM/DD下

```bash
#!/bin/bash

DIR=/data/test
cd ${DIR}

for DIR in *;do
	YYYY_MM=`echo ${DIR} | cut -d- -f1,2`;
	DD=`echo ${DIR} | cut -d- -f3`;
	if [ -d /data/test/${YYYY_MM}/${DD} ]; then
		mkdir /data/test/${YYYY_MM}/${DD} -p
	fi
	mv /data/test/$DIR/* /data/test/${YYYY_MM}/${DD}
done
```

3.99乘法表

```bash
#!/bin/bash

for i in {1..9};do
	for j in `seq $i`;do
		x=$[i*j]
		echo -e "${i}x${j}=${x} \c\t"; 
	done
	echo
done
```

