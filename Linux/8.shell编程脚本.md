## SHELL脚本编程基础

### 编程基础

+ Linus: Talk is cheap,show me the code

+ 程序
  + 程序：算法+数据结构
  + 数据：是程序的核心
  + 数据结构：数据在计算机中的类型和组织方式
  + 算法：处理数据的方式
+ 程序编程风格：
  + 对象式：以数据为中心，指令服务于数据
  + 过程式：以指令为中心，数据服务与指令
+ shell程序：提供了编程能力，解释执行
+ shell编程：过程式、解释执行
  + 编程语言的基本结构：
    + 各种系统命令的组合
    + 数据存储：变量、数组
    + 表达式：a+b
    + 语句：if

### shell脚本基础

+ shell脚本：

  + 包含一些命令或声明，并符合一定格式的文本文件

+ 格式要求：首行shebang机制

  + #!/bin/bash
  + #!/usr/bin/perl
  + #!/usr/bin/pythod

+ shell脚本的用途有：

  + 自动化常用命令
  + 执行系统管理和故障排除
  + 创建简单的应用程序
  + 处理文本或文件

+ 执行脚本方法：

  + 绝对路径|相对路径 文件名 （需要执行权限）

  + bash hello.sh

  + cat hello.sh | bash

  + 添加环境变量PATH中，然后直接输入文件名：

    + vim /etc/profile.d/env.sh

      PATH=/root/data/script/:$PATH

### 脚本调试

+ 检测脚本中的语法错误
  + bash -n /path/to/some_script
+ 调试执行
  + bash - /path/to/some_script

### 变量

+ 变量：命名的内存空间
+ 变量：变量类型
  + 作用：
    + 1、数据存储方式
    + 2、参与的运算
    + 3、表示的数据范围
  + 类型：
    + 1、字符
    + 2、数值：整形，浮点型
+ shell中变量命名法则：
  + 1、不能使用程序中的保留字：例如if，for
  + 2、只能使用数字、字母、下划线，且不能以数字开头
  + 3、见民知义
  + 统一命名规则：驼峰命名法
+ shell中命名建议规则：
  + 1、变量名大写
  + 2、局部变量小写
  + 3、函数名小写
  + 4、用英文名字，并体现出实际作用

### bash中变量的种类

+ 根据变量的生效范围等标准划分下面变量类型
  + 局部变量：生效范围为当前shell进程；对当前shell之外的其它shell进程，包括当前shell的子shell进程均无效。
  + 环境变量：生效范围为当前shell进程及其子进程
  + 本地变量：生效范围为当前shell进程中某代码片段，通常指函数
  + 位置变量：$1,$2..来表示，用于让脚本在脚本代码中调用通过命令行传递给它的参数
  + 特殊变量：$?,$0,$*,$@,$#,$$

#### 局部变量：

+ 变量赋值：name='value'
+ 可以使用引用value
  + （1）可以是直接字串：name= ”root“
  + （2）变量引用：name=”$USER“
  + （3）命令引用：
    + ​						name=`COMMAND`
    + ​						name=$(COMMAND)

+ 变量引用：${name} 或者$name
  + " "弱引用，其中的变量引用会被替换为变量值
  + '' 强引用，其中的变量引用不会被替换为变量值，而保持原字符串
+ 显示已定义的所有变量：set
+ 删除变量：unset name

运算

条件测试

条件判断if

条件判断case

配置用户环境

![1578114886912](..\typora-user-images\1578114886912.png)

